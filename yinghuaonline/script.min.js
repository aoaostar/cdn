// @license      GPL-3.0 License
!function(){$((function(){$(".layui-layer-content").text().includes("æ‚¨å¯èƒ½æ˜¯ç¬¬ä¸€æ¬¡ç™»å½•ç³»ç»Ÿ")&&layer.closeAll(),window.location.pathname.match("/user/node")&&(GM_addElement("script",{src:"//cdn.aoaostar.com/yinghuaonline/main.min.js?v="+GM_info.script.version,type:"text/javascript"}),function(){GM_addElement("link",{href:"//cdn.aoaostar.com/yinghuaonline/style.css?v="+GM_info.script.version,rel:"stylesheet"});const n=`<span class="aoaostar-drawer-guide" style="">ğŸ‘ˆ</span>\n<div class="aoaostar">\n    <div class="info">\n        <div class="title">\n            <h1>å‚²æ˜Ÿè‹±åå­¦å ‚ç½‘è¯¾åŠ©æ‰‹</h1>\n            <a class="link" href="https://www.aoaostar.com" target="_blank">https://www.aoaostar.com</a>\n        </div>\n        <div class="flex justify-center">\n            <a class="tag" href="https://github.com/aoaostar" target="_blank">\n                <span>ä½œè€…</span><span>Pluto</span>\n            </a>   \n            <a class="tag" href="https://github.com/aoaostar/cdn/tree/master/yinghuaonline" target="_blank">\n                <span>ç‰ˆæœ¬å·</span><span>v${GM_info.script.version||"è·å–å¤±è´¥"}</span>\n            </a>   \n        </div>\n        <div class="flex justify-center">\n            <div class="tag">\n                <span>å½“å‰è¯¾ç¨‹ID</span><span id="course-id">æ­£åœ¨è·å–</span>\n            </div>\n            <div class="tag">\n                <span>å½“å‰ç« èŠ‚ID</span><span id="node-id">æ­£åœ¨è·å–</span>\n            </div>\n        </div>\n        <div class="tag justify-center">\n            <span>è¯¾ç¨‹åç§°</span><span id="course-title">æ­£åœ¨è·å–</span>\n        </div>\n        <div class="flex justify-center">\n            <div class="tag">\n                <span>è§†é¢‘æ€»æ•°</span><span id="node-count">æ­£åœ¨è·å–</span>\n            </div>\n            <div class="tag">\n                <span>è§†é¢‘æ—¶é•¿</span><span id="course-duration">æ­£åœ¨è·å–</span>\n            </div>\n        </div>\n    </div>\n    <div class="output"></div>\n</div>`;$(document.body).append(n)}()),window.location.pathname.match("/user/login")&&GM_getValue("menu_force_login",!0)&&($("#loginForm #code_row")?.remove(),$("#login-title").text("å­¦ç”Ÿç™»å½•ï¼ˆå·²å¼€å¯å°å·å¼ºç™»ï¼‰"),$("#loginForm > .list > .item:last-child").html('<div class="inpbox">\n                                <input type="button" class="btn" id="force_login" value="å¼ºåˆ¶ç™»å½•"/>\n                            </div>'),$("#loginForm").off(),$("#force_login").click(t),$("#password").keydown((n=>{13===n.keyCode&&(n.preventDefault(),$("#force_login").click())})))}));const n=[{title:(GM_getValue("menu_force_login",!0)?"âœ…":"âŒ")+" å¼ºåˆ¶ç™»å½•ï¼ˆå°å·å¼ºç™»ï¼‰",func:function(){GM_setValue("menu_force_login",!GM_getValue("menu_force_login",!0)),a("åˆ‡æ¢æˆåŠŸï¼Œåˆ·æ–°ç½‘é¡µåç”Ÿæ•ˆ")}},{title:"ğŸ’¬ åé¦ˆ & å»ºè®® [Github]",func:function(){window.open("https://github.com/aoaostar/cdn/issues")}}];function a(n){GM_notification({text:n,timeout:4e3})}function t(){const n=$("#username").val()||"",t=$("#password").val()||"",e=$("#schoolId").val()||"";$("#remember").is(":checked")&&window.localStorage&&(localStorage.setItem("schoolId",e),localStorage.setItem("userName",n),localStorage.setItem("passWord",t),localStorage.setItem("remember","1"));let s={platform:"Android",username:n,password:t,pushId:"140fe1da9e67b9c14a7",schoolId:e,imgSign:"533560501d19cc30271a850810b09e3e",imgCode:"cryd"},o=new FormData;for(const n in s)o.append(n,s[n]);GM_xmlhttpRequest({method:"POST",url:"/api/login.json",data:o,onload:function(n){if(4===n.readyState&&200===n.status){const t=JSON.parse(n.responseText);if(t.status){let n=document.domain.split("."),e=document.domain;n.length>2&&(e=n.slice(1).join(".")),document.cookie=`token=${escape(t.result.data.token)}; domain=${e}; path=/`,a("å¼ºåˆ¶ç™»å½•æˆåŠŸ"),window.location.href="/user"}else a("ç™»å½•å¤±è´¥ï¼"+t.msg)}}})}!function(){for(const a of n)GM_registerMenuCommand(a.title,a.func)}()}();